<template>
    <div class="reviewer-apply">
      <div class="page-layout">
        <!-- ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î -->
        <ReviewerSidebar />
        
        <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† ÏòÅÏó≠ -->
        <div class="apply-content">
          <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
          <div class="page-header">
            <h1 class="page-title">ÎÇ¥Í∞Ä Ïã†Ï≤≠Ìïú Ï∫†ÌéòÏù∏</h1>
          </div>
  
          <!-- ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ ÏòÅÏó≠ -->
          <div class="filter-section">
            <div class="filter-tabs">
              <button 
                v-for="(tab, index) in tabs" 
                :key="index" 
                @click="currentTab = tab.value"
                :class="['tab-button', { active: currentTab === tab.value }]"
              >
                {{ tab.name }}
                <span class="count" v-if="tab.count">{{ tab.count }}</span>
              </button>
            </div>
            <div class="search-box">
              <input 
                type="text" 
                v-model="searchKeyword" 
                placeholder="Ï∫†ÌéòÏù∏Î™Ö Í≤ÄÏÉâ" 
                class="search-input"
              />
              <button class="search-button">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z" stroke="#424242" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21L16.65 16.65" stroke="#424242" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
          </div>
  
          <!-- Ï∫†ÌéòÏù∏ Î™©Î°ù -->
          <div class="campaigns-list">
            <div v-if="filteredCampaigns.length === 0" class="no-campaigns">
              <div class="no-content-icon">üìã</div>
              <p class="no-content-text">Ïã†Ï≤≠Ìïú Ï∫†ÌéòÏù∏Ïù¥ ÏóÜÏäµÎãàÎã§.</p>
            </div>
  
            <div 
              v-for="campaign in filteredCampaigns" 
              :key="campaign.id" 
              class="campaign-card"
            >
              <!-- Ï∫†ÌéòÏù∏ Ïù¥ÎØ∏ÏßÄ -->
              <div class="campaign-image">
                <img :src="campaign.imageUrl" :alt="campaign.title" />
                <div class="campaign-status" :class="campaign.status">
                  {{ getStatusText(campaign.status) }}
                </div>
              </div>
  
              <!-- Ï∫†ÌéòÏù∏ Ï†ïÎ≥¥ -->
              <div class="campaign-info">
                <div class="campaign-header">
                  <div class="campaign-category">{{ campaign.category }}</div>
                  <div class="campaign-date">Ïã†Ï≤≠Ïùº: {{ formatDate(campaign.appliedAt) }}</div>
                </div>
                <h3 class="campaign-title">{{ campaign.title }}</h3>
                <div class="campaign-meta">
                  <div class="meta-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M16 2V6" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M8 2V6" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M3 10H21" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Î™®ÏßëÍ∏∞Í∞Ñ: {{ campaign.recruitmentPeriod }}</span>
                  </div>
                  <div class="meta-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 6V12L16 14" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Î¶¨Î∑∞Í∏∞Í∞Ñ: {{ campaign.reviewPeriod }}</span>
                  </div>
                  <div class="meta-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M20 12V22H4V12" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M22 7H2V12H22V7Z" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 22V7" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 7H16.5C17.163 7 17.7989 6.73661 18.2678 6.26777C18.7366 5.79893 19 5.16304 19 4.5C19 3.83696 18.7366 3.20107 18.2678 2.73223C17.7989 2.26339 17.163 2 16.5 2C13 2 12 7 12 7Z" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 7H7.5C6.83696 7 6.20107 6.73661 5.73223 6.26777C5.26339 5.79893 5 5.16304 5 4.5C5 3.83696 5.26339 3.20107 5.73223 2.73223C6.20107 2.26339 6.83696 2 7.5 2C11 2 12 7 12 7Z" stroke="#757575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Ï†úÍ≥µ: {{ campaign.benefits }}</span>
                  </div>
                </div>
              </div>
  
              <!-- Ï∫†ÌéòÏù∏ Ïï°ÏÖò ÏòÅÏó≠ -->
              <div class="campaign-actions">
                <button 
                  v-if="campaign.status === 'selected'"
                  class="action-button delivery-btn"
                  @click="openDeliveryModal(campaign.id)"
                >
                  Î∞∞ÏÜ°Ï†ïÎ≥¥ Îì±Î°ù
                </button>
                <button 
                  v-if="campaign.status === 'inReview' || campaign.status === 'completed'"
                  class="action-button review-btn"
                  @click="goToReviewPage(campaign.id)"
                >
                  Î¶¨Î∑∞ ÏûëÏÑ±
                </button>
                <button 
                  v-if="campaign.status === 'pending'"
                  class="action-button cancel-btn"
                  @click="cancelApplication(campaign.id)"
                >
                  Ïã†Ï≤≠ Ï∑®ÏÜå
                </button>
                <button 
                  v-if="['rejected', 'completed'].includes(campaign.status)"
                  class="action-button detail-btn"
                  @click="showCampaignDetail(campaign.id)"
                >
                  ÏÉÅÏÑ∏Î≥¥Í∏∞
                </button>
              </div>
            </div>
          </div>
  
          <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->
          <div class="pagination" v-if="filteredCampaigns.length > 0">
            <button class="pagination-button" :disabled="currentPage === 1" @click="currentPage--">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <div class="page-numbers">
              <button 
                v-for="page in totalPages" 
                :key="page" 
                :class="['page-number', { active: currentPage === page }]"
                @click="currentPage = page"
              >
                {{ page }}
              </button>
            </div>
            <button class="pagination-button" :disabled="currentPage === totalPages" @click="currentPage++">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
  
      <!-- Î∞∞ÏÜ°Ï†ïÎ≥¥ Î™®Îã¨ -->
      <div class="modal-overlay" v-if="showDeliveryModal" @click="closeDeliveryModal">
        <div class="modal-content" @click.stop>
          <div class="modal-header">
            <h3 class="modal-title">Î∞∞ÏÜ°Ï†ïÎ≥¥ Îì±Î°ù</h3>
            <button class="close-btn" @click="closeDeliveryModal">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18" stroke="#424242" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M6 6L18 18" stroke="#424242" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="recipient">ÏàòÎ†πÏù∏<span class="required">*</span></label>
              <input 
                type="text" 
                id="recipient" 
                v-model="deliveryInfo.recipient" 
                class="form-input" 
                placeholder="ÏàòÎ†πÏù∏ Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
              />
            </div>
            <div class="form-group">
              <label for="phone">Ïó∞ÎùΩÏ≤ò<span class="required">*</span></label>
              <input 
                type="tel" 
                id="phone" 
                v-model="deliveryInfo.phone" 
                class="form-input" 
                placeholder="'-' ÏóÜÏù¥ Ïà´ÏûêÎßå ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
                maxlength="11"
              />
            </div>
            <div class="form-group">
              <label for="zipcode">Ïö∞Ìé∏Î≤àÌò∏<span class="required">*</span></label>
              <div class="zipcode-group">
                <input 
                  type="text" 
                  id="zipcode" 
                  v-model="deliveryInfo.zipcode" 
                  class="form-input zipcode-input" 
                  placeholder="Ïö∞Ìé∏Î≤àÌò∏" 
                  readonly
                />
                <button class="zipcode-btn" @click="searchAddress">Ï£ºÏÜå Í≤ÄÏÉâ</button>
              </div>
            </div>
            <div class="form-group">
              <label for="address1">Ï£ºÏÜå<span class="required">*</span></label>
              <input 
                type="text" 
                id="address1" 
                v-model="deliveryInfo.address1" 
                class="form-input" 
                placeholder="Í∏∞Î≥∏ Ï£ºÏÜå" 
                readonly
              />
            </div>
            <div class="form-group">
              <label for="address2">ÏÉÅÏÑ∏ Ï£ºÏÜå<span class="required">*</span></label>
              <input 
                type="text" 
                id="address2" 
                v-model="deliveryInfo.address2" 
                class="form-input" 
                placeholder="ÏÉÅÏÑ∏ Ï£ºÏÜåÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
              />
            </div>
            <div class="form-group">
              <label for="request">Î∞∞ÏÜ° ÏöîÏ≤≠ÏÇ¨Ìï≠</label>
              <input 
                type="text" 
                id="request" 
                v-model="deliveryInfo.request" 
                class="form-input" 
                placeholder="Î∞∞ÏÜ° ÏöîÏ≤≠ÏÇ¨Ìï≠ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"
              />
            </div>
          </div>
          <div class="modal-footer">
            <button class="modal-cancel-btn" @click="closeDeliveryModal">Ï∑®ÏÜå</button>
            <button class="modal-save-btn" @click="saveDeliveryInfo" :disabled="!isDeliveryFormValid">Îì±Î°ùÌïòÍ∏∞</button>
          </div>
        </div>
      </div>
    </div>
  </template>
  
  <script>
import ReviewerSidebar from '@/components/ReviewerSidebar.vue';

export default {
  name: 'ReviewerApply',
  components: {
    ReviewerSidebar
  },
  data() {
    return {
      // ÌòÑÏû¨ ÌÉ≠ (Ï†ÑÏ≤¥, Ïã†Ï≤≠Ï§ë, ÏÑ†Ï†ï, ÏßÑÌñâÏ§ë, ÏôÑÎ£åÎê®, ÎØ∏ÏÑ†Ï†ï)
      currentTab: 'all',
      
      // ÌÉ≠ Ï†ïÎ≥¥
      tabs: [
        { name: 'Ï†ÑÏ≤¥', value: 'all', count: 12 },
        { name: 'Ïã†Ï≤≠Ï§ë', value: 'pending', count: 2 },
        { name: 'ÏÑ†Ï†ï', value: 'selected', count: 3 },
        { name: 'ÏßÑÌñâÏ§ë', value: 'inReview', count: 2 },
        { name: 'ÏôÑÎ£åÎê®', value: 'completed', count: 3 },
        { name: 'ÎØ∏ÏÑ†Ï†ï', value: 'rejected', count: 2 }
      ],
      
      // Í≤ÄÏÉâÏñ¥
      searchKeyword: '',
      
      // ÌòÑÏû¨ ÌéòÏù¥ÏßÄ
      currentPage: 1,
      
      // ÌéòÏù¥ÏßÄÎãπ ÏïÑÏù¥ÌÖú Ïàò
      itemsPerPage: 5,
      
      // Î∞∞ÏÜ° Ï†ïÎ≥¥ Î™®Îã¨
      showDeliveryModal: false,
      selectedCampaignId: null,
      deliveryInfo: {
        recipient: '',
        phone: '',
        zipcode: '',
        address1: '',
        address2: '',
        request: ''
      },
      
      // Ï∫†ÌéòÏù∏ Îç∞Ïù¥ÌÑ∞
      campaigns: [
        {
          id: 1,
          title: "Ïã†ÏÉÅ Ïú†Í∏∞ÎÜç Í∑∏Î¶∞Ìã∞ ÏÉ¥Ìë∏ Ï≤¥ÌóòÎã® Î™®Ïßë",
          category: "Î∑∞Ìã∞",
          imageUrl: "/api/placeholder/300/160",
          status: "pending",
          appliedAt: new Date(2025, 3, 15),
          recruitmentPeriod: "2025.04.10 ~ 2025.04.20",
          reviewPeriod: "2025.04.25 ~ 2025.05.10",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 3ÎßåÏõê"
        },
        {
          id: 2,
          title: "ÌîÑÎ¶¨ÎØ∏ÏóÑ Ìó§Ïñ¥ Ìä∏Î¶¨Ìä∏Î®ºÌä∏ ÏÇ¨Ïö©Ïûê Î™®Ïßë",
          category: "Î∑∞Ìã∞",
          imageUrl: "/api/placeholder/300/160",
          status: "selected",
          appliedAt: new Date(2025, 3, 10),
          recruitmentPeriod: "2025.04.05 ~ 2025.04.15",
          reviewPeriod: "2025.04.20 ~ 2025.05.05",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 5ÎßåÏõê"
        },
        {
          id: 3,
          title: "ÌôàÏπ¥Ìéò ÏóêÏä§ÌîÑÎ†àÏÜå Î®∏Ïã† Ï≤¥ÌóòÎã®",
          category: "ÏÉùÌôúÏö©Ìíà",
          imageUrl: "/api/placeholder/300/160",
          status: "inReview",
          appliedAt: new Date(2025, 3, 5),
          recruitmentPeriod: "2025.03.25 ~ 2025.04.05",
          reviewPeriod: "2025.04.15 ~ 2025.04.30",
          benefits: "Ï†úÌíà ÎåÄÏó¨ + Î¶¨Î∑∞ÎπÑ 10ÎßåÏõê"
        },
        {
          id: 4,
          title: "ÎπÑÍ±¥ ÏπúÌôòÍ≤Ω ÌÅ¥Î†åÏßï Ìèº Ï≤¥ÌóòÎã®",
          category: "Î∑∞Ìã∞",
          imageUrl: "/api/placeholder/300/160",
          status: "completed",
          appliedAt: new Date(2025, 2, 15),
          recruitmentPeriod: "2025.03.01 ~ 2025.03.15",
          reviewPeriod: "2025.03.20 ~ 2025.04.05",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 2ÎßåÏõê"
        },
        {
          id: 5,
          title: "ÌîÑÎ¶¨ÎØ∏ÏóÑ Î∞òÎ†§Í≤¨ ÏÇ¨Î£å Ï≤¥ÌóòÎã®",
          category: "Î∞òÎ†§ÎèôÎ¨º",
          imageUrl: "/api/placeholder/300/160",
          status: "rejected",
          appliedAt: new Date(2025, 2, 10),
          recruitmentPeriod: "2025.02.25 ~ 2025.03.10",
          reviewPeriod: "2025.03.15 ~ 2025.03.30",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 3ÎßåÏõê"
        },
        {
          id: 6,
          title: "Îã§Ïù¥Ïñ¥Ìä∏ Í±¥Í∞ïÏãùÌíà Ï≤¥ÌóòÎã®",
          category: "Í±¥Í∞ï",
          imageUrl: "/api/placeholder/300/160",
          status: "completed",
          appliedAt: new Date(2025, 1, 20),
          recruitmentPeriod: "2025.02.01 ~ 2025.02.15",
          reviewPeriod: "2025.02.20 ~ 2025.03.10",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 5ÎßåÏõê"
        },
        {
          id: 7,
          title: "Î¨¥ÏÑ† Ïù¥Ïñ¥Ìè∞ Ï≤¥ÌóòÎã® Î™®Ïßë",
          category: "ÎîîÏßÄÌÑ∏",
          imageUrl: "/api/placeholder/300/160",
          status: "inReview",
          appliedAt: new Date(2025, 3, 1),
          recruitmentPeriod: "2025.03.20 ~ 2025.04.01",
          reviewPeriod: "2025.04.05 ~ 2025.04.20",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 8ÎßåÏõê"
        },
        {
          id: 8,
          title: "ÏπúÌôòÍ≤Ω ÏÑ∏ÌÉÅÏÑ∏Ï†ú Ï≤¥ÌóòÎã® Î™®Ïßë",
          category: "ÏÉùÌôúÏö©Ìíà",
          imageUrl: "/api/placeholder/300/160",
          status: "pending",
          appliedAt: new Date(2025, 3, 18),
          recruitmentPeriod: "2025.04.15 ~ 2025.04.25",
          reviewPeriod: "2025.04.30 ~ 2025.05.15",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 2ÎßåÏõê"
        },
        {
          id: 9,
          title: "ÌîÑÎ¶¨ÎØ∏ÏóÑ Ïú†ÏïÑ Ïä§ÌÇ®ÏºÄÏñ¥ Ï≤¥ÌóòÎã®",
          category: "Ïú°ÏïÑ",
          imageUrl: "/api/placeholder/300/160",
          status: "selected",
          appliedAt: new Date(2025, 3, 8),
          recruitmentPeriod: "2025.04.01 ~ 2025.04.12",
          reviewPeriod: "2025.04.17 ~ 2025.05.02",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 4ÎßåÏõê"
        },
        {
          id: 10,
          title: "Ïõ∞Îπô ÏÉêÎü¨Îìú ÎèÑÏãúÎùΩ Ï≤¥ÌóòÎã® Î™®Ïßë",
          category: "Ìë∏Îìú",
          imageUrl: "/api/placeholder/300/160",
          status: "rejected",
          appliedAt: new Date(2025, 2, 20),
          recruitmentPeriod: "2025.03.10 ~ 2025.03.20",
          reviewPeriod: "2025.03.25 ~ 2025.04.10",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 3ÎßåÏõê"
        },
        {
          id: 11,
          title: "ÌîÑÎ¶¨ÎØ∏ÏóÑ Î∏îÎ£®Ìà¨Ïä§ Ïä§ÌîºÏª§ Ï≤¥ÌóòÎã®",
          category: "ÎîîÏßÄÌÑ∏",
          imageUrl: "/api/placeholder/300/160",
          status: "selected",
          appliedAt: new Date(2025, 3, 12),
          recruitmentPeriod: "2025.04.05 ~ 2025.04.15",
          reviewPeriod: "2025.04.20 ~ 2025.05.05",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 7ÎßåÏõê"
        },
        {
          id: 12,
          title: "Ìó¨Ïä§ÏºÄÏñ¥ ÏòÅÏñëÏ†ú Ï≤¥ÌóòÎã® Î™®Ïßë",
          category: "Í±¥Í∞ï",
          imageUrl: "/api/placeholder/300/160",
          status: "completed",
          appliedAt: new Date(2025, 2, 5),
          recruitmentPeriod: "2025.02.20 ~ 2025.03.05",
          reviewPeriod: "2025.03.10 ~ 2025.03.25",
          benefits: "Ï†úÌíà Ï†úÍ≥µ + Î¶¨Î∑∞ÎπÑ 4ÎßåÏõê"
        }
      ]
    }
  },
  computed: {
    // ÌïÑÌÑ∞ÎßÅÎêú Ï∫†ÌéòÏù∏
    filteredCampaigns() {
      // ÌÉ≠ ÌïÑÌÑ∞ÎßÅ
      let filtered = this.campaigns;
      if (this.currentTab !== 'all') {
        filtered = filtered.filter(campaign => campaign.status === this.currentTab);
      }
      
      // Í≤ÄÏÉâÏñ¥ ÌïÑÌÑ∞ÎßÅ
      if (this.searchKeyword.trim()) {
        const keyword = this.searchKeyword.trim().toLowerCase();
        filtered = filtered.filter(campaign => 
          campaign.title.toLowerCase().includes(keyword) || 
          campaign.category.toLowerCase().includes(keyword)
        );
      }
      
      // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò
      const startIndex = (this.currentPage - 1) * this.itemsPerPage;
      const endIndex = startIndex + this.itemsPerPage;
      return filtered.slice(startIndex, endIndex);
    },
    
    // Ï¥ù ÌéòÏù¥ÏßÄ Ïàò
    totalPages() {
      let filtered = this.campaigns;
      if (this.currentTab !== 'all') {
        filtered = filtered.filter(campaign => campaign.status === this.currentTab);
      }
      
      if (this.searchKeyword.trim()) {
        const keyword = this.searchKeyword.trim().toLowerCase();
        filtered = filtered.filter(campaign => 
          campaign.title.toLowerCase().includes(keyword) || 
          campaign.category.toLowerCase().includes(keyword)
        );
      }
      
      return Math.ceil(filtered.length / this.itemsPerPage);
    },
    
    // Î∞∞ÏÜ°Ï†ïÎ≥¥ Ìèº Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨
    isDeliveryFormValid() {
      return (
        this.deliveryInfo.recipient &&
        this.deliveryInfo.phone &&
        this.deliveryInfo.zipcode &&
        this.deliveryInfo.address1 &&
        this.deliveryInfo.address2
      );
    }
  },
  methods: {
    // ÎÇ†Ïßú Ìè¨Îß∑ÌåÖ
    formatDate(date) {
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      return `${year}.${month}.${day}`;
    },
    
    // ÏÉÅÌÉú ÌÖçÏä§Ìä∏ Î∞òÌôò
    getStatusText(status) {
      const statusMap = {
        'pending': 'Ïã†Ï≤≠Ï§ë',
        'selected': 'ÏÑ†Ï†ï',
        'inReview': 'ÏßÑÌñâÏ§ë',
        'completed': 'ÏôÑÎ£åÎê®',
        'rejected': 'ÎØ∏ÏÑ†Ï†ï'
      };
      return statusMap[status] || status;
    },
    
    // Î∞∞ÏÜ°Ï†ïÎ≥¥ Î™®Îã¨ Ïó¥Í∏∞
    openDeliveryModal(campaignId) {
      this.selectedCampaignId = campaignId;
      this.showDeliveryModal = true;
    },
    
    // Î∞∞ÏÜ°Ï†ïÎ≥¥ Î™®Îã¨ Îã´Í∏∞
    closeDeliveryModal() {
      this.showDeliveryModal = false;
      this.selectedCampaignId = null;
      // Ìèº Ï¥àÍ∏∞Ìôî
      this.deliveryInfo = {
        recipient: '',
        phone: '',
        zipcode: '',
        address1: '',
        address2: '',
        request: ''
      };
    },
    
    // Ï£ºÏÜå Í≤ÄÏÉâ
    searchAddress() {
      // Ïã§Ï†úÎ°úÎäî Daum Ï£ºÏÜå API Îì±ÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Íµ¨ÌòÑ
      alert('Ï£ºÏÜå Í≤ÄÏÉâ Í∏∞Îä•ÏùÄ Ïã§Ï†ú Íµ¨ÌòÑÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.');
      // ÌÖåÏä§Ìä∏Ïö© Îç∞Ïù¥ÌÑ∞
      this.deliveryInfo.zipcode = '12345';
      this.deliveryInfo.address1 = 'ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ ÌÖåÌó§ÎûÄÎ°ú 123';
    },
    
    // Î∞∞ÏÜ°Ï†ïÎ≥¥ Ï†ÄÏû•
    saveDeliveryInfo() {
      if (!this.isDeliveryFormValid) return;
      
      // Ïã§Ï†úÎ°úÎäî API Ìò∏Ï∂úÌïòÏó¨ Ï†ÄÏû•
      alert('Î∞∞ÏÜ° Ï†ïÎ≥¥Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§.');
      
      // Ìï¥Îãπ Ï∫†ÌéòÏù∏ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏ (UI ÏóÖÎç∞Ïù¥Ìä∏Ïö©)
      const campaignIndex = this.campaigns.findIndex(c => c.id === this.selectedCampaignId);
      if (campaignIndex !== -1) {
        // Ïã§Ï†úÎ°úÎäî API ÏùëÎãµÏóê Îî∞Îùº ÏÉÅÌÉúÎ•º ÏóÖÎç∞Ïù¥Ìä∏Ìï¥Ïïº Ìï®
        // Ïù¥ ÏòàÏ†úÏóêÏÑúÎäî Îã®ÏàúÌïòÍ≤å UI ÏóÖÎç∞Ïù¥Ìä∏Îßå
        this.campaigns[campaignIndex].deliveryRegistered = true;
      }
      
      this.closeDeliveryModal();
    },
    
    // Î¶¨Î∑∞ ÏûëÏÑ± ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
    goToReviewPage(campaignId) {
      // Ïã§Ï†úÎ°úÎäî ÎùºÏö∞ÌåÖÏúºÎ°ú Íµ¨ÌòÑ
      alert(`Î¶¨Î∑∞ ÏûëÏÑ± ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§. Ï∫†ÌéòÏù∏ ID: ${campaignId}`);
      // this.$router.push(`/reviewer/review/${campaignId}`);
    },
    
    // Ïã†Ï≤≠ Ï∑®ÏÜå
    cancelApplication(campaignId) {
      if (confirm('Ï∫†ÌéòÏù∏ Ïã†Ï≤≠ÏùÑ Ï∑®ÏÜåÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
        // Ïã§Ï†úÎ°úÎäî API Ìò∏Ï∂úÌïòÏó¨ Ï∑®ÏÜå Ï≤òÎ¶¨
        const campaignIndex = this.campaigns.findIndex(c => c.id === campaignId);
        if (campaignIndex !== -1) {
          // ÏòàÏ†úÎ•º ÏúÑÌï¥ Î∞∞Ïó¥ÏóêÏÑú Ï†úÍ±∞
          this.campaigns.splice(campaignIndex, 1);
          
          // ÌÉ≠ Ïπ¥Ïö¥Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
          this.updateTabCounts();
          
          alert('Ï∫†ÌéòÏù∏ Ïã†Ï≤≠Ïù¥ Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§.');
        }
      }
    },
    
    // Ï∫†ÌéòÏù∏ ÏÉÅÏÑ∏ Î≥¥Í∏∞
    showCampaignDetail(campaignId) {
      // Ïã§Ï†úÎ°úÎäî ÎùºÏö∞ÌåÖÏúºÎ°ú Íµ¨ÌòÑ
      alert(`Ï∫†ÌéòÏù∏ ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§. Ï∫†ÌéòÏù∏ ID: ${campaignId}`);
      // this.$router.push(`/reviewer/campaign/${campaignId}`);
    },
    
    // ÌÉ≠ Ïπ¥Ïö¥Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
    updateTabCounts() {
      const counts = {
        'all': this.campaigns.length,
        'pending': this.campaigns.filter(c => c.status === 'pending').length,
        'selected': this.campaigns.filter(c => c.status === 'selected').length,
        'inReview': this.campaigns.filter(c => c.status === 'inReview').length,
        'completed': this.campaigns.filter(c => c.status === 'completed').length,
        'rejected': this.campaigns.filter(c => c.status === 'rejected').length
      };
      
      this.tabs = this.tabs.map(tab => ({
        ...tab,
        count: counts[tab.value]
      }));
    }
  },
  watch: {
    // ÌÉ≠Ïù¥ÎÇò Í≤ÄÏÉâÏñ¥ Î≥ÄÍ≤Ω Ïãú ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî
    currentTab() {
      this.currentPage = 1;
    },
    searchKeyword() {
      this.currentPage = 1;
    }
  },
  mounted() {
    // ÌÉ≠ Ïπ¥Ïö¥Ìä∏ Ï¥àÍ∏∞Ìôî
    this.updateTabCounts();
  }
}
</script>
<style scoped>
@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

* {
  font-family: 'Pretendard', sans-serif;
  box-sizing: border-box;
}

.reviewer-apply {
  background-color: #FFFFFF;
  min-height: 100vh;
}

.page-layout {
  display: flex;
  max-width: 1280px;
  margin: 0 auto;
}

.apply-content {
  flex: 1;
  padding: 40px;
}

.page-header {
  margin-bottom: 24px;
}

.page-title {
  font-size: 24px;
  font-weight: 700;
  color: #229799;
  margin: 0;
}

/* ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ ÏòÅÏó≠ */
.filter-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.filter-tabs {
  display: flex;
  gap: 8px;
}

.tab-button {
  background: none;
  border: none;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  color: #757575;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
}

.tab-button:hover {
  background-color: #F5F5F5;
}

.tab-button.active {
  background-color: #229799;
  color: white;
}

.count {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  height: 20px;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 10px;
  font-size: 12px;
  margin-left: 6px;
  padding: 0 6px;
}

.tab-button.active .count {
  background-color: #F5F5F5;
  color: #229799;
}

.search-box {
  position: relative;
  width: 280px;
}

.search-input {
  width: 100%;
  padding: 10px 40px 10px 16px;
  border: 1px solid #E0E0E0;
  border-radius: 20px;
  font-size: 14px;
}

.search-button {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
}

/* Ï∫†ÌéòÏù∏ Î™©Î°ù */
.campaigns-list {
  margin-bottom: 32px;
}

.campaign-card {
  display: flex;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 16px;
  background-color: white;
  transition: all 0.2s;
}

.campaign-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.campaign-image {
  position: relative;
  width: 240px;
  height: 160px;
  flex-shrink: 0;
}

.campaign-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.campaign-status {
  position: absolute;
  top: 12px;
  left: 12px;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
}

.campaign-status.pending {
  background-color: #FFF3E0;
  color: #FF9800;
}

.campaign-status.selected {
  background-color: #E0F7FA;
  color: #00BCD4;
}

.campaign-status.inReview {
  background-color: #E8F5E9;
  color: #4CAF50;
}

.campaign-status.completed {
  background-color: #EFEBE9;
  color: #795548;
}

.campaign-status.rejected {
  background-color: #FFEBEE;
  color: #F44336;
}

.campaign-info {
  flex: 1;
  padding: 16px;
  display: flex;
  flex-direction: column;
}

.campaign-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

.campaign-category {
  font-size: 13px;
  color: #757575;
  background-color: #F5F5F5;
  padding: 4px 8px;
  border-radius: 4px;
}

.campaign-date {
  font-size: 13px;
  color: #9E9E9E;
}

.campaign-title {
  font-size: 18px;
  font-weight: 600;
  color: #424242;
  margin: 0 0 12px 0;
  flex-grow: 1;
}

.campaign-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.meta-item {
  display: flex;
  align-items: center;
  font-size: 13px;
  color: #757575;
}

.meta-item svg {
  margin-right: 4px;
}

.campaign-actions {
  width: 140px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 8px;
  border-left: 1px solid #F0F0F0;
}

.action-button {
  width: 100%;
  padding: 8px 0;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
}

.delivery-btn {
  background-color: #229799;
  color: white;
  border: none;
}

.delivery-btn:hover {
  background-color: #1b7a7b;
}

.review-btn {
  background-color: #48CFCB;
  color: white;
  border: none;
}

.review-btn:hover {
  background-color: #3bb9b5;
}

.cancel-btn {
  background-color: white;
  color: #F44336;
  border: 1px solid #F44336;
}

.cancel-btn:hover {
  background-color: #FFEBEE;
}

.detail-btn {
  background-color: white;
  color: #424242;
  border: 1px solid #E0E0E0;
}

.detail-btn:hover {
  background-color: #F5F5F5;
}

/* ÎÇ¥Ïö© ÏóÜÏùå ÌëúÏãú */
.no-campaigns {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 0;
  color: #9E9E9E;
}

.no-content-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.no-content-text {
  font-size: 16px;
}

/* ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò */
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
}

.pagination-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border: 1px solid #E0E0E0;
  border-radius: 4px;
  background-color: white;
  color: #757575;
  cursor: pointer;
}

.pagination-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.page-numbers {
  display: flex;
  gap: 4px;
}

.page-number {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border: 1px solid #E0E0E0;
  border-radius: 4px;
  background-color: white;
  color: #424242;
  font-size: 14px;
  cursor: pointer;
}

.page-number.active {
  background-color: #229799;
  color: white;
  border-color: #229799;
}

/* Î™®Îã¨ Ïä§ÌÉÄÏùº */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background-color: white;
  border-radius: 8px;
  width: 500px;
  max-width: 90%;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #E0E0E0;
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #424242;
  margin: 0;
}

.close-btn {
  background: none;
  border: none;
  padding: 4px;
  cursor: pointer;
}

.modal-body {
  padding: 24px;
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding: 16px 24px;
  border-top: 1px solid #E0E0E0;
}

.modal-cancel-btn {
  padding: 10px 20px;
  border: 1px solid #E0E0E0;
  background-color: white;
  border-radius: 4px;
  color: #757575;
  font-weight: 500;
  cursor: pointer;
}

.modal-save-btn {
  padding: 10px 20px;
  border: none;
  background-color: #229799;
  color: white;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
}

.modal-save-btn:disabled {
  background-color: #cccccc;
  cursor: not-allowed;
}

/* Î∞∞ÏÜ°Ï†ïÎ≥¥ Ìèº */
.form-group {
  margin-bottom: 16px;
}

.form-group label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: #424242;
  margin-bottom: 8px;
}

.required {
  color: #F44336;
  margin-left: 2px;
}

.form-input {
  width: 100%;
  padding: 10px 16px;
  border: 1px solid #E0E0E0;
  border-radius: 4px;
  font-size: 14px;
}

.zipcode-group {
  display: flex;
  gap: 8px;
}

.zipcode-input {
  width: 120px;
}

.zipcode-btn {
  padding: 10px 16px;
  background-color: #F5F5F5;
  border: 1px solid #E0E0E0;
  border-radius: 4px;
  color: #424242;
  font-size: 14px;
  cursor: pointer;
}

/* Î∞òÏùëÌòï Ïä§ÌÉÄÏùº */
@media (max-width: 1200px) {
  .apply-content {
    padding: 24px;
  }
}

@media (max-width: 900px) {
  .filter-section {
    flex-direction: column;
    align-items: stretch;
    gap: 16px;
  }
  
  .filter-tabs {
    overflow-x: auto;
    padding-bottom: 8px;
  }
  
  .search-box {
    width: 100%;
  }
  
  .campaign-card {
    flex-direction: column;
  }
  
  .campaign-image {
    width: 100%;
    height: 180px;
  }
  
  .campaign-actions {
    width: 100%;
    flex-direction: row;
    border-left: none;
    border-top: 1px solid #F0F0F0;
    padding: 12px 16px;
  }
  
  .action-button {
    flex: 1;
  }
}

@media (max-width: 600px) {
  .campaign-meta {
    flex-direction: column;
    gap: 6px;
  }
  
  .campaign-actions {
    flex-wrap: wrap;
  }
  
  .action-button {
    flex: 0 0 calc(50% - 4px);
  }
}
</style>